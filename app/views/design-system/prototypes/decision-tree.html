{% extends "design-system-page-layout-guide.html" %}

{% set section_id = "prototypes" %} <!-- Section id var for main nav --> 
{% set page_id = "decisiontree" %} <!-- Page id var for side nav --> 
{% set page_title = "Decision tree" %} <!-- Page title var for page header (H1) and page title -->    

{% block sectionOneTop %}{% endblock %}

{% block sectionLeftHandColumn %}
    <!-- Side nav include -->  
    {% include "includes/design-system/design-system-side-nav.html" %}
{% endblock %}

{% block sectionOneRightContent %}
<div class="page-header-section">
    <h1>{{ page_title }}</h1>
    <p class="lead">This is a prototype and cannot be used on the leeds.gov.uk.</p>
</div>

<div class="text">
    <ol class="list list-number">
        <li>Add "prototype/decision-tree.js" underneath scripts in footer</li>
        <li>Add HTML snippets to script editor</li>
        <li>Add JavaScript snippets underneath javascript includes</li>
    </ol>
</div>

<div class="example">
    <span class="example-title">Example</span>
    
    <h2>Direct a user to the relevent Council Tax form</h2>
    <div class="lcc-tree-container"></div>
</div>

<div class="code-snippet">
    <h3 class="heading-mark-up">HTML Snippet <span class="sr-only">for decision tree</span></h3>

    <pre class="language-markup"><code id="snippet-decision-tree" class="line-numbers language-markup"><span style="color: #007700">&lt;h2&gt;</span>Getting rid of unwanted items<span style="color: #007700">&lt;/h2&gt;</span>
<span style="color: #007700">&lt;div</span> <span style="color: #0000CC">class=</span><span style="background-color: #fff0f0">&quot;lcc-tree-container&quot;</span><span style="color: #007700">&gt;&lt;/div&gt;</span>
</code></pre>

    <button class="clipboard" data-clipboard-target="#snippet-decision-tree">
        Copy <span class="sr-only">HTML snippet for decision tree</span>
    </button>
</div>

<div class="code-snippet">
    <h3 class="heading-mark-up">JavaScript Snippet <span class="sr-only">for decision tree</span></h3>

    <pre class="language-markup"><code id="snippet-decision-tree-js" class="line-numbers language-markup"><span style="color: #666666">&lt;</span>script type<span style="color: #666666">=</span><span style="color: #BA2121">&quot;text/javascript&quot;</span><span style="color: #666666">&gt;</span>
        <span style="color: #008000; font-weight: bold">var</span> bookacollection <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;&lt;h3&gt;Book a collection&lt;/h3&gt;&lt;p&gt;If you are unable to get rid of your items in the above ways and you are prepared to wait for up to 3 weeks, we offer a limited service to remove items from homes. This will be chargeable at a subsidised rate of Â£20.00.&lt;/p&gt;&lt;p&gt;You can find out more information about this service on our &lt;a href=&quot;/residents/bins-and-recycling/book-an-unwanted-items-collection&quot;&gt;Book a collection page&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;If a collection is not made on your appointment date then please leave the item(s) outside for a further 48 hours. Please ensure that your item/s are left in the exact location given during your booking, and that you have followed the rules for collection.&lt;/p&gt;&#39;</span>
                            
        <span style="color: #008000; font-weight: bold">var</span> data <span style="color: #666666">=</span> {
            message<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;&lt;h3&gt;Is your item classed as garden waste?&lt;/h3&gt;&#39;</span>,
            decisions<span style="color: #666666">:</span> [
                    {
                        answer<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;Yes&#39;</span>,
                        message<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;&lt;h3&gt;Garden Waste&lt;/h3&gt;&lt;p&gt;If you are requiring a garden waste collection and do not have access to a brown bin, please visit our &lt;a href=&quot;#&quot;&gt;Garden waste page&lt;/a&gt;. This page contains guidance on booking a collection and the terms and conditions of collections.&lt;/p&gt;&#39;</span>                
                    },
                    {
                        answer<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;No&#39;</span>,
                        message<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;&lt;h3&gt;Are you able to donate your item to charity?&lt;/h3&gt;&#39;</span>,
                        decisions<span style="color: #666666">:</span> [                
                            {
                                answer<span style="color: #666666">:</span> <span style="color: #BA2121">&quot;I&#39;m not sure&quot;</span>,
                                message<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;&lt;h3&gt;Donating to charity&lt;/h3&gt;&lt;p&gt;Items such as sofas, chairs and beds must carry fire safety labels. All electrical items should be free from rust, be reasonably clean, have intact seals and ideally be in full working order.&lt;/p&gt;&lt;p&gt;You can read more about donating to these charities in our \&#39;Pass It On\&#39; leaflet (PDF 1.5MB).&lt;/p&gt;&lt;p&gt;Most of the following organisations will collect re-usable items from your home for free:&lt;/p&gt;&lt;h4&gt;&lt;a href=&quot;#&quot;&gt;Emmaus Leeds&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Accept furniture, electricals, white goods, bric a brac, clothes, bedding and more. Telephone 0113 248 4288.&lt;/p&gt;&lt;h4&gt;&lt;a href=&quot;#&quot;&gt;Leeds and Moortown Furniture Store&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Accept sofas, beds, bedroom storage, tables, chairs and other living room furniture. In addition they take bedding, curtains, towels, pans and mirrors. They do not collect electrical appliances or white goods. Telephone 0113 273 9727.&lt;/p&gt;&lt;h3&gt;Still need to book a collection?&lt;/h3&gt;&#39;</span>,
                                decisions<span style="color: #666666">:</span> [                
                                    {
                                        answer<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;Yes&#39;</span>,
                                        message<span style="color: #666666">:</span> bookacollection                       
                                    }
                                ]                      
                            },
                            {
                                answer<span style="color: #666666">:</span> <span style="color: #BA2121">&#39;No&#39;</span>,
                                message<span style="color: #666666">:</span> bookacollection
                            }
                        ]
                    }            
                ]
        };
    
        jQuery(<span style="color: #008000">document</span>).ready(<span style="color: #008000; font-weight: bold">function</span>() {
            jQuery(<span style="color: #BA2121">&#39;.lcc-tree-container&#39;</span>).decisionTree({data<span style="color: #666666">:</span> data});
        });
<span style="color: #666666">&lt;</span><span>/script&gt;</span>
    </code></pre>

    <button class="clipboard" data-clipboard-target="#snippet-decision-tree-js">
        Copy <span class="sr-only">JavaScript snippet for decision tree</span>
    </button>
</div>

{% endblock %}

{% block additional_page_scripts %}
<script type="text/javascript">
    var data = {
        message: '<h3>Do you want to tell us about a change?</h3>',
        decisions: [
                {
                    answer: 'Yes',
                    message: '<h3>Do you want to tell us about a move?</h3>',
                    decisions: [                
                        {
                            answer: "Yes",
                            message: '<h3>Are you a student?</h3>',     
                            decisions: [                
                                {
                                    answer: "Yes",
                                    message: '<h3>Council tax for students</h3><p>Link and content regarding student council tax to be confirmed.</p>',                     
                                },
                                {
                                    answer: 'No',
                                    message: '<h3>Where are you moving?</h3>',
                                    decisions: [                
                                        {
                                            answer: "Out of Leeds",
                                            message: '<h3>Are you moving out of a propery that will remain occupied?</h3>',  
                                            decisions: [                
                                                {
                                                    answer: "Yes",
                                                    message: '<h3>Moving out of a property that will remain occupied</h3><p>You will need to call our Council Tax Service to notify them you are moving (phone number here).</p><p>Make sure you are removed from any tenancy agreement as you may still be liable.</p><p>You will need to notify your new council that you are moving.</p>',                     
                                                },
                                                {
                                                    answer: 'No',
                                                    message: '<h3>Are you currently a home owner or renter?</h3>',
                                                    decisions: [    
                                                        {
                                                            answer: 'Homeowner',
                                                            message: '<h3>Homeowners moving out of Leeds</h3><p>You will be charged up until the date the sale completes.</p><p>You will need to notify your new council that you are moving.</p><p><a class="btn btn-primary" href="#" rel="external">Change of address form link</a></p>',
                                                        },        
                                                        {
                                                            answer: "Renter",
                                                            message: '<h3>Are you currently on a rolling tenancy?</h3>', 
                                                            decisions: [                
                                                                {
                                                                    answer: "Yes",
                                                                    message: '<h3>Moving out of Leeds, empty property, currently renting, is on a rolling tenancy</h3><p>If you are on a rolling tenancy you will be charged until you move.</p><p>You will need to notify your new council that you are moving.</p><p><a class="btn btn-primary" href="#" rel="external">Change of address form link</a></p>',                     
                                                                },
                                                                {
                                                                    answer: 'No',
                                                                    message: '<h3>Moving out of Leeds, empty property, currently renting, is not a rolling tenancy</h3><p>If you move out before your tenancy ends you will still be liable.</p><p>You will need to notify your new council that you are moving.</p><p><a class="btn btn-primary" href="#" rel="external">Change of address form link</a></p>',
                                                                }
                                                            ]                     
                                                        }                                                        
                                                    ] 
                                                }
                                            ]                   
                                        },
                                        {
                                            answer: 'Within Leeds',
                                            message: '<h3>Within Leeds branch to go here</h3>'
                                        },
                                        {
                                            answer: 'Into Leeds',
                                            message: '<h3>What will be your new status?</h3>',
                                            decisions: [                
                                                {
                                                    answer: "Renter",
                                                    message: '<h3>Moving into Leeds and renting</h3><p>You will be charged from when your tenancy starts.</p><p><a class="btn btn-primary" href="#" rel="external">Change of address form link</a></p>'                                                                      
                                                },
                                                {
                                                    answer: 'Homeowner',
                                                    message: '<h3>Moving into Leeds and will be a homeowner</h3><p>You will be charged from your completion date.</p><p>If your property is a new build you will need to check that this has been banded.<p><a href="#">Check your bands property</a></p><p><a class="btn btn-primary" href="#" rel="external">Change of address form link</a></p>',
                                                }
                                            ] 
                                        }
                                    ]
                                }
                            ]                   
                        },
                        {
                            answer: 'No',
                            message: '<h3>You do not want to tell us about a move</h3><p>Content to be confirmed</p>'
                        }
                    ]            
                },
                {
                    answer: 'No',
                    message: '<h3>You do not want to tell us about a change</h3><p>Content to be confirmed</p>'
                    
                }            
            ]
    };

    jQuery(document).ready(function() {
        jQuery('.lcc-tree-container').decisionTree({data: data});
    });
</script>

{% endblock %}